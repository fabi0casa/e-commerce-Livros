# Generated by Selenium IDE
import pytest
import time
import json
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.action_chains import ActionChains
from selenium.webdriver.support import expected_conditions
from selenium.webdriver.support.wait import WebDriverWait
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.desired_capabilities import DesiredCapabilities

class TestAbobora():
  def setup_method(self, method):
    self.driver = webdriver.Firefox()
    self.vars = {}
  
  def teardown_method(self, method):
    self.driver.quit()
  
  def test_abobora(self):
    self.driver.get("http://localhost:8080/cliente/login")
    self.driver.set_window_size(1600, 866)
    self.driver.find_element(By.CSS_SELECTOR, "button").click()
    self.driver.find_element(By.CSS_SELECTOR, ".product-card:nth-child(2) > img").click()
    self.driver.find_element(By.ID, "quantidade").send_keys("2")
    self.driver.find_element(By.ID, "quantidade").click()
    self.driver.find_element(By.ID, "quantidade").send_keys("3")
    self.driver.find_element(By.ID, "quantidade").click()
    element = self.driver.find_element(By.ID, "quantidade")
    actions = ActionChains(self.driver)
    actions.double_click(element).perform()
    self.driver.find_element(By.ID, "quantidade").send_keys("4")
    self.driver.find_element(By.ID, "quantidade").click()
    self.driver.find_element(By.CSS_SELECTOR, ".btn-carrinho").click()
    assert self.driver.switch_to.alert.text == "Livro adicionado ao carrinho com sucesso!"
    self.driver.find_element(By.CSS_SELECTOR, ".decrease").click()
    self.driver.find_element(By.CSS_SELECTOR, ".decrease").click()
    element = self.driver.find_element(By.CSS_SELECTOR, ".decrease")
    actions = ActionChains(self.driver)
    actions.double_click(element).perform()
    self.driver.find_element(By.CSS_SELECTOR, ".decrease").click()
    self.driver.find_element(By.CSS_SELECTOR, ".increase").click()
    self.driver.find_element(By.CSS_SELECTOR, ".remove").click()
    self.driver.find_element(By.CSS_SELECTOR, ".logo").click()
    self.driver.find_element(By.CSS_SELECTOR, ".product-card:nth-child(9) > img").click()
    self.driver.find_element(By.CSS_SELECTOR, ".btn-carrinho").click()
    assert self.driver.switch_to.alert.text == "Livro adicionado ao carrinho com sucesso!"
    self.driver.find_element(By.ID, "searchInput").click()
    self.driver.find_element(By.ID, "searchInput").send_keys("guia")
    self.driver.find_element(By.ID, "searchInput").send_keys(Keys.ENTER)
    self.driver.find_element(By.CSS_SELECTOR, ".product-card > img").click()
    self.driver.find_element(By.CSS_SELECTOR, ".btn-carrinho").click()
    assert self.driver.switch_to.alert.text == "Livro adicionado ao carrinho com sucesso!"
    self.driver.find_element(By.CSS_SELECTOR, ".cart-item:nth-child(1) .increase").click()
    self.driver.find_element(By.CSS_SELECTOR, ".cart-item:nth-child(2) .increase").click()
    self.driver.find_element(By.CSS_SELECTOR, ".cart-item:nth-child(2) .increase").click()
    element = self.driver.find_element(By.CSS_SELECTOR, ".cart-item:nth-child(2) .increase")
    actions = ActionChains(self.driver)
    actions.double_click(element).perform()
    self.driver.find_element(By.CSS_SELECTOR, ".checkout-btn").click()
    self.driver.find_element(By.ID, "endereco").click()
    dropdown = self.driver.find_element(By.ID, "endereco")
    dropdown.find_element(By.XPATH, "//option[. = 'asdasdasd, 4235 - ashsgjsgjhsg, sdfsdfgdf']").click()
    self.driver.find_element(By.CSS_SELECTOR, "option:nth-child(2)").click()
    self.driver.find_element(By.ID, "cartao1").click()
    self.driver.find_element(By.ID, "valor-cartao-1").click()
    self.driver.find_element(By.ID, "valor-cartao-1").send_keys("130")
    self.driver.find_element(By.ID, "cartao2").click()
    self.driver.find_element(By.ID, "valor-cartao-2").click()
    self.driver.find_element(By.ID, "valor-cartao-2").send_keys("9.7")
    self.driver.find_element(By.CSS_SELECTOR, ".cart-summary:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".checkout-btn").click()
    assert self.driver.switch_to.alert.text == "Informe um valor válido (mínimo R$ 10,00) para o cartão selecionado."
    assert self.driver.switch_to.alert.text == "A soma dos valores dos cartões deve ser exatamente R$ 139,70"
    self.driver.find_element(By.ID, "cartao2").click()
    self.driver.find_element(By.ID, "valor-cartao-1").click()
    self.driver.find_element(By.ID, "valor-cartao-1").send_keys("139.7")
    self.driver.find_element(By.CSS_SELECTOR, ".checkout-btn").click()
    self.driver.find_element(By.ID, "pedidoCodigoBold").click()
    self.driver.find_element(By.ID, "pedidoCodigoBold").click()
    self.driver.find_element(By.ID, "pedidoCodigoBold").click()
    self.driver.find_element(By.CSS_SELECTOR, "#pedidoModal button").click()
    self.driver.find_element(By.CSS_SELECTOR, ".menu > button:nth-child(5)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".ver-pedido-btn").click()

    '''fui pro admin em algum lugar aqui'''
    element = self.driver.find_element(By.CSS_SELECTOR, ".ver-pedido-btn")
    actions = ActionChains(self.driver)
    actions.move_to_element(element).perform()
    element = self.driver.find_element(By.CSS_SELECTOR, "body")
    actions = ActionChains(self.driver)
    actions.move_to_element(element, 0, 0).perform()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".sub-rows:nth-child(2) tr:nth-child(1) .reprovado").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".modal-tabela-content > .close").click()
    self.driver.find_element(By.CSS_SELECTOR, ".ver-pedido-btn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, "td:nth-child(6) > .aprovado").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".status-btn:nth-child(2)").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, "td:nth-child(6) > .status-btn").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, "td:nth-child(6) > .status-btn").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".close").click()

    '''fui pro cliente'''
    self.driver.find_element(By.CSS_SELECTOR, ".menu > button:nth-child(5)").click()
    self.driver.find_element(By.ID, "pesquisar").click()
    self.driver.find_element(By.CSS_SELECTOR, ".ver-pedido-btn").click()
    element = self.driver.find_element(By.CSS_SELECTOR, ".ver-pedido-btn")
    actions = ActionChains(self.driver)
    actions.move_to_element(element).perform()
    element = self.driver.find_element(By.CSS_SELECTOR, "body")
    actions = ActionChains(self.driver)
    actions.move_to_element(element, 0, 0).perform()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, "tr:nth-child(1) .troca").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, "tr:nth-child(2) .troca").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".devolucao").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > .status-cell").click()
    self.driver.find_element(By.CSS_SELECTOR, ".modal-tabela-content > .close").click()

    '''fui pro admin'''
    self.driver.find_element(By.ID, "pesquisar").click()
    self.driver.find_element(By.CSS_SELECTOR, ".ver-pedido-btn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, "tr:nth-child(2) > td:nth-child(4) > .troca").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, "tr:nth-child(1) > td:nth-child(4) > .reprovado").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, "td:nth-child(4) > .troca").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, "td:nth-child(4) > .devolucao").click()
    self.driver.find_element(By.CSS_SELECTOR, "label").click()
    self.driver.find_element(By.ID, "confirmarBtn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(4)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(4)").click()
    element = self.driver.find_element(By.CSS_SELECTOR, ".modal-tabela-content")
    actions = ActionChains(self.driver)
    actions.move_to_element(element).click_and_hold().perform()
    element = self.driver.find_element(By.CSS_SELECTOR, ".modal-tabela-content")
    actions = ActionChains(self.driver)
    actions.move_to_element(element).perform()
    element = self.driver.find_element(By.CSS_SELECTOR, ".modal-tabela-content")
    actions = ActionChains(self.driver)
    actions.move_to_element(element).release().perform()
    self.driver.find_element(By.CSS_SELECTOR, ".close").click()


    '''fui pro cliente'''
    self.driver.find_element(By.ID, "accountText").click()
    self.driver.find_element(By.CSS_SELECTOR, ".info-buttons > button:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, "#cupomModal .accordion:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, "#cupomModal .accordion:nth-child(5)").click()
    self.driver.find_element(By.CSS_SELECTOR, "#cupomModal .close").click()
    self.driver.find_element(By.CSS_SELECTOR, ".menu > button:nth-child(5)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".ver-pedido-btn").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(1) > td:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".expandable-row:nth-child(3) > td:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".modal-tabela-content > .close").click()
    self.driver.find_element(By.CSS_SELECTOR, ".logo").click()
    self.driver.find_element(By.CSS_SELECTOR, ".product-card:nth-child(4) > .product-info").click()
    self.driver.find_element(By.CSS_SELECTOR, ".btn-comprar").click()
    self.driver.find_element(By.ID, "endereco").click()
    dropdown = self.driver.find_element(By.ID, "endereco")
    dropdown.find_element(By.XPATH, "//option[. = 'asdasdasd, 4235 - ashsgjsgjhsg, sdfsdfgdf']").click()
    self.driver.find_element(By.CSS_SELECTOR, "#endereco > option:nth-child(2)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".coupon-btn").click()
    self.driver.find_element(By.ID, "cupomSelect").click()
    self.driver.find_element(By.CSS_SELECTOR, "#couponModal button").click()
    self.driver.find_element(By.CSS_SELECTOR, ".coupon-btn").click()
    self.driver.find_element(By.CSS_SELECTOR, "#couponModal button").click()
    self.driver.find_element(By.ID, "cartao1").click()
    self.driver.find_element(By.ID, "valor-cartao-1").click()
    self.driver.find_element(By.ID, "valor-cartao-1").send_keys("230.2")
    self.driver.find_element(By.CSS_SELECTOR, ".checkout-btn").click()
    self.driver.find_element(By.CSS_SELECTOR, "#pedidoModal button").click()
    self.driver.find_element(By.CSS_SELECTOR, ".info-buttons > button:nth-child(3)").click()
    self.driver.find_element(By.CSS_SELECTOR, "#cupomModal .close").click()
    self.driver.find_element(By.CSS_SELECTOR, ".menu > button:nth-child(5)").click()
    self.driver.find_element(By.CSS_SELECTOR, ".pedido-item:nth-child(1) .ver-pedido-btn").click()
    element = self.driver.find_element(By.CSS_SELECTOR, ".pedido-item:nth-child(1) .ver-pedido-btn")
    actions = ActionChains(self.driver)
    actions.move_to_element(element).perform()
    element = self.driver.find_element(By.CSS_SELECTOR, "body")
    actions = ActionChains(self.driver)
    actions.move_to_element(element, 0, 0).perform()
    self.driver.find_element(By.CSS_SELECTOR, ".modal-tabela-content > .close").click()
  
